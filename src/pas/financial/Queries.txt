Omzetten:
Per product/Abonnement/Cursus/Faciliteit
Per vestiging
Gedurende een geselecteerde maand of gehele jaar in geselecteerd jaar

Incasso:
Lidnummer, Lidnaam, Abonnementsprijs, Bar verbruik, Cursusgeld, Faciliteiten, Totaal, Status (geexporteerd/lopend/Verwijderd/Aangepast), Periode, Datum
Bij selectie geheel jaar verdelen per maand


Betalingen:
Incasso gegevens, maar met status (Te betalen/Betaald/Mislukt/Gestorneerd/Aangepast/Verwijderd)

=========================================================================================================
|						Queries							|
=========================================================================================================

Incasso/Betalingsstatus tabel
Lidnummer | Naam | Abonnement | Bar | Cursussen | Faciliteiten | Totaal | Status | Datum

================
|  Selectform  |
================
Vestiging:
---------------
SELECT		vestiging.id, vestiging.naam
FROM		vestiging


===============
|  Omzetten:  |
===============
Product:
---------------
SELECT 		product.name, categorie.omschrijving, SUM(product.prijs) AS omzet, vestiging.id, vestiging.naam
FROM 		factuuritem
LEFT JOIN 	product 		ON product.id 			= factuuritem.productid
LEFT JOIN 	vestiging 		ON vestiging.id 		= factuuritem.vestigingid
LEFT JOIN 	bestelling 		ON bestelling.id 		= factuuritem.bestellingid
LEFT JOIN	categorie		ON categorie.id			= product.categorieid
WHERE 		vestiging.id 						= :vestiging
AND		factuuritem.tijddatum	BETWEEN :timeofset		AND :timeendset
GROUP BY	product.name, categorie.omschrijving, vestiging.id, vestiging.naam

Facility:
---------------
SELECT		faciliteit.name, SUM(faciliteit.kosten) AS omzet, COUNT(reservering.faciliteitid) AS gebruikers, vestiging.id, vestiging.naam
FROM		factuuritem
LEFT JOIN	reservering		ON reservering.id		= factuuritem.reserveringid
LEFT JOIN	faciliteit		ON faciliteit.id		= reservering.faciliteitid
LEFT JOIN 	vestiging 		ON vestiging.id 		= factuuritem.vestigingid
WHERE		faciliteit.vestigingid					= :vestiging
AND		reservering.tijddatum	BETWEEN :timeoffset		AND :timeendset
GROUP BY	faciliteit.name, vestiging.id, vestiging.naam

Cursus:
----------------
SELECT		cursus.naam, SUM(cursus.kosten) AS omzet, COUNT(planning.id) AS deelnames, vestiging.id, vestiging.naam
FROM		factuuritem
LEFT JOIN	inschrijving		ON inschrijving.id		= factuuritem.inschrijvingid
LEFT JOIN	planning		ON planning.id			= inschrijving.planningid
LEFT JOIN	cursus			ON cursus.id			= planning.cursusid
LEFT JOIN	vestiging		ON vestiging.id			= factuuritem.vestigingid
WHERE		cursus.vestigingid					= :vestiging
AND		planning.tijddatum	BETWEEN :timeoffset		AND :timeendset
GROUP BY	planning.id, vestiging.id, cursus.naam, vestiging.naam


Abonnementen:
----------------
SELECT		abonnement.name, SUM(abonnement.kosten) AS omzet, vestiging.id, vestiging.naam
FROM		factuuritem
LEFT JOIN	abonnering		ON abonnering.id		= factuuritem.abonneringid
LEFT JOIN	abonnement		ON abonnement.id		= abonnering.abonnementid
LEFT JOIN	vestiging		ON vestiging.id			= factuuritem.vestigingid
WHERE		factuuritem.vestigingid					= :vestiging
AND		abonnering.startdate 	BETWEEN :timeoffset 		AND :timeendset
OR		abonnering.enddate 	BETWEEN :timeoffset 	 	AND :timeendset
GROUP BY	abonnement.name, vestiging.id, vestiging.naam